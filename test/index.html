<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/2.6.3/svg.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script type="text/javascript"
          src="https://cdnjs.cloudflare.com/ajax/libs/svg.draggy.js/1.1.1/svg.draggy.min.js"></script>

    <script type="text/javascript" src="svg.connectable.js"></script>
</head>
<body>
<svg xmlns="http://www.w3.org/2000/svg" id="svg1"></svg>
<script>
    var svg = SVG('svg1').size("100%", 900);
    // var links = svg.group();
    // var markers = svg.group();
    var nodes = svg.group();
    var defs = svg.defs();

    var g1 = nodes.group().draggy();

    let circle1 = g1.circle(50).fill("#C2185B").opacity(0.8);

    var g2 = nodes.group().translate(200, 30).draggy();
    let circle2 = g2.circle(50).fill("#C2185B").opacity(0.8);

    var conn1 = g1.connectable({
        // container: links,
        // markers: markers,
        marker: 'default',
        targetAttach: 'perifery',
        sourceAttach: 'perifery',
        color: '#2a88c9'
    }, g2);

    g1.click(function (evt) {

      var g3 = nodes.group().translate(100, 20).draggy();
      let circle3 = g3.circle(50).fill("#C2185B").opacity(0.8);
      g3.plain("1");

      var conn1 = g1.connectable({
        // container: links,
        // markers: markers,
        marker: 'default',
        targetAttach: 'perifery',
        sourceAttach: 'perifery',
        color: '#2a88c9'
      }, g3);

      conn1.
    });

</script>
</body>
</html>
